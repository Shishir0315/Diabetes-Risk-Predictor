<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diabetes Risk Predictor</title>
    <style>
        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            margin: 0;
        }

        .container {
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            width: 100%;
            max-width: 650px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-size: 24px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #555;
            font-size: 14px;
        }

        input,
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #eee;
            border-radius: 8px;
            box-sizing: border-box;
            transition: border-color 0.3s;
            font-size: 15px;
        }

        input:focus,
        select:focus {
            border-color: #a1c4fd;
            outline: none;
        }

        button {
            width: 100%;
            padding: 15px;
            background: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(37, 117, 252, 0.4);
        }

        .result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 6px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
        }

        .success {
            background: #dff9fb;
            color: #27ae60;
            border: 1px solid #badc58;
        }

        .error {
            background: #ff7979;
            color: white;
            border: 1px solid #eb4d4b;
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
    </style>
</head>

<body>

    <div class="container">
        <h1>Diabetes Risk Predictor</h1>

        {% if prediction %}
        <div class="result success">
            Predicted Risk Score: <strong>{{ prediction }}</strong>
        </div>
        {% endif %}

        {% if error %}
        <div class="result error">
            Error: {{ error }}
        </div>
        {% endif %}

        <form action="/predict" method="POST">
            <div class="grid">
                <div class="form-group">
                    <label>Age</label>
                    <input type="number" name="Age" required value="{{ input_data.Age if input_data else '' }}">
                </div>
                <div class="form-group">
                    <label>Gender</label>
                    <select name="gender">
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>BMI</label>
                    <input type="number" step="0.1" name="bmi" required
                        value="{{ input_data.bmi if input_data else '' }}">
                </div>
                <div class="form-group">
                    <label>Glucose (Fasting)</label>
                    <input type="number" name="glucose_fasting" required
                        value="{{ input_data.glucose_fasting if input_data else '' }}">
                </div>
                <div class="form-group">
                    <label>Ethnicity</label>
                    <select name="ethnicity">
                        <option value="White">White</option>
                        <option value="Black">Black</option>
                        <option value="Asian">Asian</option>
                        <option value="Hispanic">Hispanic</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Hba1c</label>
                    <input type="number" step="0.01" name="hba1c" required
                        value="{{ input_data.hba1c if input_data else '' }}">
                </div>
            </div>

            <!-- Add more fields (simplified for demo, but can be added) -->
            <!-- In a real app, I'd add all fields. For brevity, I'll add critical ones and hardcode defaults for others in backend if not provided, but here let's try to add most important ones -->

            <div class="form-group"><label>Education Level</label><select name="education_level">
                    <option>Highschool</option>
                    <option>Graduate</option>
                    <option>Postgraduate</option>
                    <option>No formal</option>
                </select></div>
            <div class="form-group"><label>Income Level</label><select name="income_level">
                    <option>Low</option>
                    <option>Lower-Middle</option>
                    <option>Middle</option>
                    <option>Upper-Middle</option>
                    <option>High</option>
                </select></div>
            <div class="form-group"><label>Employment Status</label><select name="employment_status">
                    <option>Employed</option>
                    <option>Unemployed</option>
                    <option>Retired</option>
                    <option>Student</option>
                </select></div>
            <div class="form-group"><label>Smoking Status</label><select name="smoking_status">
                    <option>Never</option>
                    <option>Former</option>
                    <option>Current</option>
                </select></div>

            <!-- Hidden defaults for less exciting fields to keep form short, or expose them if user wants full control -->
            <input type="hidden" name="alcohol_consumption_per_week" value="0">
            <input type="hidden" name="physical_activity_minutes_per_week" value="150">
            <input type="hidden" name="diet_score" value="5.0">
            <input type="hidden" name="sleep_hours_per_day" value="7.0">
            <input type="hidden" name="screen_time_hours_per_day" value="4.0">
            <input type="hidden" name="family_history_diabetes" value="0">
            <input type="hidden" name="hypertension_history" value="0">
            <input type="hidden" name="cardiovascular_history" value="0">
            <input type="hidden" name="waist_to_hip_ratio" value="0.85">
            <input type="hidden" name="systolic_bp" value="120">
            <input type="hidden" name="diastolic_bp" value="80">
            <input type="hidden" name="heart_rate" value="72">
            <input type="hidden" name="cholesterol_total" value="200">
            <input type="hidden" name="hdl_cholesterol" value="50">
            <input type="hidden" name="ldl_cholesterol" value="100">
            <input type="hidden" name="triglycerides" value="150">
            <input type="hidden" name="glucose_postprandial" value="140">
            <input type="hidden" name="insulin_level" value="10">

            <button type="submit">Predict Risk</button>
        </form>
    </div>

</body>

</html>